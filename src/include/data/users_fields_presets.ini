;	Ce fichier contient la configuration par défaut des champs des fiches membres.
;	La configuration est ensuite enregistrée au format INI dans la table 
;	config de la base de données.
;
;	Syntaxe :
;
;	[nom_du_champ] ; Nom unique du champ, ne peut contenir que des lettres et des tirets bas
;	type = text
;	label = "Super champ trop cool"
;	required = true
;	write_access = 0
;
;	Description des options possibles pour chaque champ :
;
;	type: (défaut: text) OBLIGATOIRE
;		certains types gérés par <input type> de HTML5 :
;		text, number, date, datetime, url, email, checkbox, file, password, tel
;		champs spécifiques :
;		- country = sélecteur de pays
;		- textarea = texte multi lignes
;		- multiple = multiples cases à cocher (jusqu'à 32, binaire)
;		- select = un choix parmis plusieurs
;	label: OBLIGATOIRE
;		Titre du champ
;	help:
;		Texte d'aide sur les fiches membres
;	options[]:
;		pour définir les options d'un champ de type select ou multiple
;	write_access:
;		1 = modifiable par le membre
;		0 = modifiable uniquement par un admin (défaut)
;	required:
;		true = obligatoire, la fiche membre ne pourra être enregistrée si ce champ est vide
;		false = facultatif (défaut)
;	read_access:
;		1 = visible par le membre (défaut)
;		0 = visible uniquement par un admin
;	list_table: 'true' si doit être listé par défaut dans la liste des membres
;   sql: SQL code for GENERATED columns
;	depends[]: list of fields that need to be existing in order to install this field

[numero]
type = number
label = "Numéro de membre"
required = true
write_access = 0
list_table = true
default = true

[nom]
type = text
label = "Nom & prénom"
required = true
write_access = 1
list_table = true
default = true

[email]
; ce champ est facultatif et de type 'email'
type = email
label = "Adresse E-Mail"
required = false
write_access = 1
default = true

[password]
; ce champ est obligatoirement présent et de type 'password'
; le titre ne peut être modifié
label = "Mot de passe"
type = password
required = false
write_access = 1
default = true

[adresse]
type = textarea
label = "Adresse postale"
help = "Indiquer ici le numéro, le type de voie, etc."
write_access = 1
default = true

[code_postal]
type = text
label = "Code postal"
write_access = 1
default = true

[ville]
type = text
label = "Ville"
write_access = 1
list_table = true
default = true

[pays]
type = country
label = "Pays"
write_access = 1
default = false

[telephone]
type = tel
label = "Numéro de téléphone"
write_access = 1
default = true

[lettre_infos]
type = checkbox
label = "Inscription à la lettre d'information"
install_help = "Case à cocher pour indiquer que le membre souhaite recevoir la lettre d'information de l'association"
write_access = 1
default = true

[annee_naissance]
type = year
label = "Année de naissance"
install_help = "Recommandé, plutôt que la date de naissance qui est une information très sensible."
default = false

[age_annee]
type = generated
label = "Âge"
install_help = "Déterminé en utilisant l'année de naissance"
depends[] = annee_naissance
default = false
sql = "strftime('%Y', date()) - annee_naissance"

[date_naissance]
type = date
label = "Date de naissance complète"
default = false
install_help = "Attention, cette information est très sensible, il est déconseillé par le RGPD de la demander aux membres. Il est préférable de demander seulement l'année de naissance."

[age_date]
type = generated
label = "Âge"
install_help = "Déterminé en utilisant la date de naissance"
depends[] = date_naissance
default = false
sql = "CAST(strftime('%Y.%m%d', date()) - strftime('%Y.%m%d', date_naissance) as int)"

[photo]
type = file
label = "Photo"
default = false

[date_inscription]
type = date
label = "Date d'inscription"
help = "Date à laquelle le membre a été inscrit à l'association pour la première fois"
default = true
default_value = '=NOW'

[anciennete]
type = generated
label = "Ancienneté"
install_help = "Nombre d'années depuis la date d'inscription"
depends[] = date_inscription
default = false
sql = "CAST(strftime('%Y.%m%d', date()) - strftime('%Y.%m%d', date_inscription) as int)"
